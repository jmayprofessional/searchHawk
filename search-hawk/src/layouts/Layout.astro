---
const { title } = Astro.props;
import Breadcrumbs from "../components/Breadcrumbs.astro";

// Compute breadcrumb items based on the URL
const segments = Astro.url.pathname.split('/').filter(Boolean);
const items = segments.map((segment, index) => ({
  title: segment.replace(/-/g, ' ').replace(/\b\w/g, l => l.toUpperCase()),
  href: '/' + segments.slice(0, index + 1).join('/')
}));
---

<html lang="en" class="bg-gray-900 text-gray-100">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{title ? `${title} | Local SEO Guide` : 'Local SEO Guide'}</title>
    <link rel="stylesheet" href="/src/styles/global.css" />
  </head>
  <body class="min-h-screen font-sans">

    <header class="p-6 border-b border-gray-800 mb-8">
      <h1 class="text-3xl font-bold mb-4">Local SEO Guide</h1>

      <!-- Navigation -->
      <nav class="mb-2">
        <ul class="flex flex-wrap gap-4 text-gray-300">
          <li><a href="/" class="hover:text-purple-400 transition">Home</a></li>
          <li><a href="/guide/how-to-use" class="hover:text-purple-400 transition">How to Use</a></li>
          <li><a href="/gbp" class="hover:text-purple-400 transition">GBP Guide</a></li>
          <li><a href="/reviews" class="hover:text-purple-400 transition">Reviews</a></li>
          <li><a href="/website" class="hover:text-purple-400 transition">Website</a></li>
          <li><a href="/tools" class="hover:text-purple-400 transition">Tools</a></li>
          <li><a href="/maintenance" class="hover:text-purple-400 transition">Maintenance</a></li>
        </ul>
      </nav>

      <!-- Breadcrumbs -->
      <Breadcrumbs items={[{ title: 'Home', href: '/' }, ...items]} />
    </header>

    <main class="px-6">
      <slot /> <!-- Page content goes here -->
    </main>

    <footer class="mt-12 p-6 border-t border-gray-800 text-gray-400 text-sm text-center">
      &copy; 2026 Local SEO Guide
    </footer>

  </body>
</html>
